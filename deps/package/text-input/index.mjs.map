{"version":3,"file":"/Users/mwistrand/projects/dojo/widgets/src/text-input/index.ts","sourceRoot":"","sources":["../node_modules/tslint-loader/index.js??ref--4!/Users/mwistrand/projects/dojo/widgets/node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_custom-elements!/Users/mwistrand/projects/dojo/widgets/src/text-input/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { WidgetBase } from '@dojo/framework/widget-core/WidgetBase';\nimport { DNode, PropertyChangeRecord } from '@dojo/framework/widget-core/interfaces';\nimport { ThemedMixin, ThemedProperties, theme } from '@dojo/framework/widget-core/mixins/Themed';\nimport { v, w } from '@dojo/framework/widget-core/d';\nimport Focus from '@dojo/framework/widget-core/meta/Focus';\nimport { FocusMixin, FocusProperties } from '@dojo/framework/widget-core/mixins/Focus';\nimport Label from '../label/index';\nimport {\n\tCustomAriaProperties,\n\tPointerEventProperties,\n\tKeyEventProperties,\n\tInputEventProperties\n} from '../common/interfaces';\nimport { formatAriaProperties } from '../common/util';\nimport { uuid } from '@dojo/framework/core/util';\nimport * as css from '../theme/text-input.m.css';\nimport { customElement } from '@dojo/framework/widget-core/decorators/customElement';\nimport diffProperty from '@dojo/framework/widget-core/decorators/diffProperty';\nimport { reference } from '@dojo/framework/widget-core/diff';\nimport InputValidity from '../common/InputValidity';\nimport HelperText from '../helper-text/index';\n\nexport type TextInputType = 'text' | 'email' | 'number' | 'password' | 'search' | 'tel' | 'url';\n\ninterface TextInputInternalState {\n\tpreviousValue?: string;\n\tpreviousValid?: boolean;\n\tpreviousMessage?: string;\n}\n\n/**\n * @type IconProperties\n *\n * Properties that can be set on a TextInput component\n *\n * @property controls       ID of an element that this input controls\n * @property type           Input type, e.g. text, email, tel, etc.\n * @property maxLength      Maximum number of characters allowed in the input\n * @property minLength      Minimum number of characters allowed in the input\n * @property placeholder    Placeholder text\n * @property value           The current value\n * @property leading\t\tRenderer for leading icon content\n * @property trailing\t\tRenderer for trailing icon content\n */\n\nexport interface TextInputProperties\n\textends ThemedProperties,\n\t\tFocusProperties,\n\t\tPointerEventProperties,\n\t\tKeyEventProperties,\n\t\tInputEventProperties,\n\t\tCustomAriaProperties {\n\tdisabled?: boolean;\n\twidgetId?: string;\n\tname?: string;\n\treadOnly?: boolean;\n\trequired?: boolean;\n\tcontrols?: string;\n\ttype?: TextInputType;\n\tmaxLength?: number | string;\n\tminLength?: number | string;\n\tplaceholder?: string;\n\thelperText?: string;\n\tvalue?: string;\n\tvalid?: { valid?: boolean; message?: string } | boolean;\n\tcustomValidator?: (value: string) => { valid?: boolean; message?: string } | void;\n\tpattern?: string | RegExp;\n\tautocomplete?: boolean | string;\n\tonClick?(value: string): void;\n\tonValidate?: (valid: boolean | undefined, message: string) => void;\n\tleading?: () => DNode;\n\ttrailing?: () => DNode;\n\tlabelHidden?: boolean;\n\tlabel?: string;\n}\n\nfunction formatAutocomplete(autocomplete: string | boolean | undefined): string | undefined {\n\tif (typeof autocomplete === 'boolean') {\n\t\treturn autocomplete ? 'on' : 'off';\n\t}\n\treturn autocomplete;\n}\n\nfunction patternDiffer(\n\tpreviousProperty: string | undefined,\n\tnewProperty: string | RegExp | undefined\n): PropertyChangeRecord {\n\tconst value = newProperty instanceof RegExp ? newProperty.source : newProperty;\n\treturn {\n\t\tchanged: previousProperty !== value,\n\t\tvalue\n\t};\n}\n\n@theme(css)\n@customElement<TextInputProperties>({\n\ttag: 'dojo-text-input',\n\tproperties: [\n\t\t'theme',\n\t\t'classes',\n\t\t'aria',\n\t\t'extraClasses',\n\t\t'disabled',\n\t\t'readOnly',\n\t\t'labelHidden',\n\t\t'valid',\n\t\t'leading',\n\t\t'trailing'\n\t],\n\tattributes: [\n\t\t'widgetId',\n\t\t'label',\n\t\t'placeholder',\n\t\t'helperText',\n\t\t'controls',\n\t\t'type',\n\t\t'minLength',\n\t\t'maxLength',\n\t\t'value',\n\t\t'name',\n\t\t'pattern',\n\t\t'autocomplete'\n\t],\n\tevents: [\n\t\t'onBlur',\n\t\t'onChange',\n\t\t'onClick',\n\t\t'onFocus',\n\t\t'onInput',\n\t\t'onKeyDown',\n\t\t'onKeyPress',\n\t\t'onKeyUp',\n\t\t'onMouseDown',\n\t\t'onMouseUp',\n\t\t'onTouchCancel',\n\t\t'onTouchEnd',\n\t\t'onTouchStart',\n\t\t'onValidate'\n\t]\n})\n@diffProperty('pattern', patternDiffer)\n@diffProperty('leading', reference)\n@diffProperty('trailing', reference)\nexport class TextInput extends ThemedMixin(FocusMixin(WidgetBase))<TextInputProperties> {\n\tprivate _onBlur(event: FocusEvent) {\n\t\tthis.properties.onBlur && this.properties.onBlur((event.target as HTMLInputElement).value);\n\t}\n\tprivate _onChange(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onChange &&\n\t\t\tthis.properties.onChange((event.target as HTMLInputElement).value);\n\t}\n\tprivate _onClick(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onClick &&\n\t\t\tthis.properties.onClick((event.target as HTMLInputElement).value);\n\t}\n\tprivate _onFocus(event: FocusEvent) {\n\t\tthis.properties.onFocus &&\n\t\t\tthis.properties.onFocus((event.target as HTMLInputElement).value);\n\t}\n\tprivate _onInput(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onInput &&\n\t\t\tthis.properties.onInput((event.target as HTMLInputElement).value);\n\t}\n\tprivate _onKeyDown(event: KeyboardEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onKeyDown &&\n\t\t\tthis.properties.onKeyDown(event.which, () => {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t}\n\tprivate _onKeyPress(event: KeyboardEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onKeyPress &&\n\t\t\tthis.properties.onKeyPress(event.which, () => {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t}\n\tprivate _onKeyUp(event: KeyboardEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onKeyUp &&\n\t\t\tthis.properties.onKeyUp(event.which, () => {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t}\n\tprivate _onMouseDown(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onMouseDown && this.properties.onMouseDown();\n\t}\n\tprivate _onMouseUp(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onMouseUp && this.properties.onMouseUp();\n\t}\n\tprivate _onTouchStart(event: TouchEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onTouchStart && this.properties.onTouchStart();\n\t}\n\tprivate _onTouchEnd(event: TouchEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onTouchEnd && this.properties.onTouchEnd();\n\t}\n\tprivate _onTouchCancel(event: TouchEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.properties.onTouchCancel && this.properties.onTouchCancel();\n\t}\n\n\tprivate _validate() {\n\t\tconst {\n\t\t\t_state: state,\n\t\t\tproperties: { onValidate, value, customValidator }\n\t\t} = this;\n\n\t\tif (!onValidate || value === undefined || value === null || state.previousValue === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tstate.previousValue = value;\n\n\t\tlet { valid, message = '' } = this.meta(InputValidity).get('input', value);\n\n\t\tif (valid && customValidator) {\n\t\t\tconst customValid = customValidator(value);\n\t\t\tif (customValid) {\n\t\t\t\tvalid = customValid.valid;\n\t\t\t\tmessage = customValid.message || '';\n\t\t\t}\n\t\t}\n\n\t\tif (valid === state.previousValid && message === state.previousMessage) {\n\t\t\treturn;\n\t\t}\n\n\t\tstate.previousValid = valid;\n\t\tstate.previousMessage = message;\n\n\t\tonValidate(valid, message);\n\t}\n\n\tprotected get validity() {\n\t\tconst { valid = { valid: undefined, message: undefined } } = this.properties;\n\n\t\tif (typeof valid === 'boolean') {\n\t\t\treturn { valid, message: undefined };\n\t\t}\n\n\t\treturn {\n\t\t\tvalid: valid.valid,\n\t\t\tmessage: valid.message\n\t\t};\n\t}\n\n\tprivate _uuid = uuid();\n\tprivate _state: TextInputInternalState = {};\n\n\tprotected getRootClasses(): (string | null)[] {\n\t\tconst { disabled, readOnly, required, leading, trailing } = this.properties;\n\t\tconst { valid } = this.validity;\n\t\tconst focus = this.meta(Focus).get('root');\n\t\treturn [\n\t\t\tcss.root,\n\t\t\tdisabled ? css.disabled : null,\n\t\t\tfocus.containsFocus ? css.focused : null,\n\t\t\tvalid === false ? css.invalid : null,\n\t\t\tvalid === true ? css.valid : null,\n\t\t\treadOnly ? css.readonly : null,\n\t\t\trequired ? css.required : null,\n\t\t\tleading ? css.hasLeading : null,\n\t\t\ttrailing ? css.hasTrailing : null\n\t\t];\n\t}\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\taria = {},\n\t\t\tautocomplete,\n\t\t\tclasses,\n\t\t\tdisabled,\n\t\t\tlabel,\n\t\t\tlabelHidden = false,\n\t\t\tleading,\n\t\t\tmaxLength,\n\t\t\tminLength,\n\t\t\tname,\n\t\t\tpattern,\n\t\t\tplaceholder,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\ttheme,\n\t\t\ttrailing,\n\t\t\ttype = 'text',\n\t\t\tvalue,\n\t\t\twidgetId = this._uuid,\n\t\t\thelperText\n\t\t} = this.properties;\n\n\t\tthis._validate();\n\t\tconst { valid, message } = this.validity;\n\t\tconst focus = this.meta(Focus).get('root');\n\n\t\tconst computedHelperText = (valid === false && message) || helperText;\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: 'root',\n\t\t\t\tclasses: this.theme(this.getRootClasses()),\n\t\t\t\trole: 'presentation'\n\t\t\t},\n\t\t\t[\n\t\t\t\tlabel &&\n\t\t\t\t\tw(\n\t\t\t\t\t\tLabel,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttheme,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\tdisabled,\n\t\t\t\t\t\t\tinvalid: valid === false || undefined,\n\t\t\t\t\t\t\tfocused: focus.containsFocus,\n\t\t\t\t\t\t\treadOnly,\n\t\t\t\t\t\t\trequired,\n\t\t\t\t\t\t\thidden: labelHidden,\n\t\t\t\t\t\t\tforId: widgetId\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[label]\n\t\t\t\t\t),\n\t\t\t\tv(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'inputWrapper',\n\t\t\t\t\t\tclasses: this.theme(css.inputWrapper),\n\t\t\t\t\t\trole: 'presentation'\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tleading &&\n\t\t\t\t\t\t\tv('span', { key: 'leading', classes: this.theme(css.leading) }, [\n\t\t\t\t\t\t\t\tleading()\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t...formatAriaProperties(aria),\n\t\t\t\t\t\t\t'aria-invalid': valid === false ? 'true' : null,\n\t\t\t\t\t\t\tautocomplete: formatAutocomplete(autocomplete),\n\t\t\t\t\t\t\tclasses: this.theme(css.input),\n\t\t\t\t\t\t\tdisabled,\n\t\t\t\t\t\t\tid: widgetId,\n\t\t\t\t\t\t\tfocus: this.shouldFocus,\n\t\t\t\t\t\t\tkey: 'input',\n\t\t\t\t\t\t\tmaxlength: maxLength ? `${maxLength}` : null,\n\t\t\t\t\t\t\tminlength: minLength ? `${minLength}` : null,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tpattern,\n\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\treadOnly,\n\t\t\t\t\t\t\t'aria-readonly': readOnly ? 'true' : null,\n\t\t\t\t\t\t\trequired,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\tonblur: this._onBlur,\n\t\t\t\t\t\t\tonchange: this._onChange,\n\t\t\t\t\t\t\tonclick: this._onClick,\n\t\t\t\t\t\t\tonfocus: this._onFocus,\n\t\t\t\t\t\t\toninput: this._onInput,\n\t\t\t\t\t\t\tonkeydown: this._onKeyDown,\n\t\t\t\t\t\t\tonkeypress: this._onKeyPress,\n\t\t\t\t\t\t\tonkeyup: this._onKeyUp,\n\t\t\t\t\t\t\tonmousedown: this._onMouseDown,\n\t\t\t\t\t\t\tonmouseup: this._onMouseUp,\n\t\t\t\t\t\t\tontouchstart: this._onTouchStart,\n\t\t\t\t\t\t\tontouchend: this._onTouchEnd,\n\t\t\t\t\t\t\tontouchcancel: this._onTouchCancel\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttrailing &&\n\t\t\t\t\t\t\tv('span', { key: 'trailing', classes: this.theme(css.trailing) }, [\n\t\t\t\t\t\t\t\ttrailing()\n\t\t\t\t\t\t\t])\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t\tw(HelperText, { text: computedHelperText, valid })\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default TextInput;\n"]}