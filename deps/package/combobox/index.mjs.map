{"version":3,"file":"/Users/mwistrand/projects/dojo/widgets/src/combobox/index.ts","sourceRoot":"","sources":["../node_modules/tslint-loader/index.js??ref--4!/Users/mwistrand/projects/dojo/widgets/node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_custom-elements!/Users/mwistrand/projects/dojo/widgets/src/combobox/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { diffProperty } from '@dojo/framework/widget-core/decorators/diffProperty';\nimport { DNode } from '@dojo/framework/widget-core/interfaces';\nimport { Keys } from '../common/util';\nimport { reference } from '@dojo/framework/widget-core/diff';\nimport { I18nMixin } from '@dojo/framework/widget-core/mixins/I18n';\nimport { ThemedMixin, ThemedProperties, theme } from '@dojo/framework/widget-core/mixins/Themed';\nimport Focus from '@dojo/framework/widget-core/meta/Focus';\nimport { FocusMixin, FocusProperties } from '@dojo/framework/widget-core/mixins/Focus';\nimport { WidgetBase } from '@dojo/framework/widget-core/WidgetBase';\nimport { uuid } from '@dojo/framework/core/util';\nimport { v, w } from '@dojo/framework/widget-core/d';\n\nimport Icon from '../icon/index';\nimport Label from '../label/index';\nimport Listbox from '../listbox/index';\nimport TextInput, { TextInputProperties } from '../text-input/index';\nimport commonBundle from '../common/nls/common';\nimport { CommonMessages, LabeledProperties } from '../common/interfaces';\n\nimport * as css from '../theme/combobox.m.css';\nimport * as baseCss from '../common/styles/base.m.css';\nimport { customElement } from '@dojo/framework/widget-core/decorators/customElement';\n\n/**\n * @type ComboBoxProperties\n *\n * Properties that can be set on a ComboBox component\n *\n * @property clearable          Determines whether the input should be able to be cleared\n * @property disabled           Prevents user interaction and styles content accordingly\n * @property getResultLabel     Can be used to get the text label of a result based on the underlying result object\n * @property getResultSelected  Can be used to highlight the selected result. Defaults to checking the result label\n * @property getResultValue     Can be used to define a value returned by onChange when a given result is selected. Defaults to getResultLabel\n * @property widgetId           Optional id string for the combobox, set on the text input\n * @property inputProperties    TextInput properties to set on the underlying input\n * @property invalid            Determines if this input is valid\n * @property isResultDisabled   Used to determine if an item should be disabled\n * @property label              Label to show for this input\n * @property onBlur             Called when the input is blurred\n * @property onChange           Called when the value changes\n * @property onFocus            Called when the input is focused\n * @property onMenuChange       Called when menu visibility changes\n * @property onRequestResults   Called when results are shown; should be used to set `results`\n * @property onResultSelect     Called when result is selected\n * @property openOnFocus        Determines whether the result list should open when the input is focused\n * @property readOnly           Prevents user interaction\n * @property required           Determines if this input is required, styles accordingly\n * @property results            Results for the current search term; should be set in response to `onRequestResults`\n * @property value              Value to set on the input\n */\nexport interface ComboBoxProperties extends ThemedProperties, LabeledProperties, FocusProperties {\n\tclearable?: boolean;\n\tdisabled?: boolean;\n\tgetResultLabel?(result: any): DNode;\n\tgetResultSelected?(result: any): boolean;\n\tgetResultValue?(result: any): string;\n\twidgetId?: string;\n\tinputProperties?: TextInputProperties;\n\tinvalid?: boolean;\n\tisResultDisabled?(result: any): boolean;\n\tonBlur?(value: string, key?: string | number): void;\n\tonChange?(value: string, key?: string | number): void;\n\tonFocus?(value: string, key?: string | number): void;\n\tonMenuChange?(open: boolean, key?: string | number): void;\n\tonRequestResults?(key?: string | number): void;\n\tonResultSelect?(result: any, key?: string | number): void;\n\topenOnFocus?: boolean;\n\treadOnly?: boolean;\n\trequired?: boolean;\n\tresults?: any[];\n\tvalue?: string;\n}\n\n// Enum used when traversing items using arrow keys\nexport enum Operation {\n\tincrease = 1,\n\tdecrease = -1\n}\n\n@theme(css)\n@diffProperty('results', reference)\n@customElement<ComboBoxProperties>({\n\ttag: 'dojo-combo-box',\n\tproperties: [\n\t\t'theme',\n\t\t'classes',\n\t\t'extraClasses',\n\t\t'labelAfter',\n\t\t'labelHidden',\n\t\t'clearable',\n\t\t'disabled',\n\t\t'inputProperties',\n\t\t'invalid',\n\t\t'isResultDisabled',\n\t\t'labelAfter',\n\t\t'labelHidden',\n\t\t'openOnFocus',\n\t\t'readOnly',\n\t\t'required',\n\t\t'results'\n\t],\n\tattributes: ['widgetId', 'label', 'value'],\n\tevents: ['onBlur', 'onChange', 'onFocus', 'onMenuChange', 'onRequestResults', 'onResultSelect']\n})\nexport class ComboBox extends I18nMixin(ThemedMixin(FocusMixin(WidgetBase)))<ComboBoxProperties> {\n\tprivate _activeIndex = 0;\n\tprivate _ignoreBlur: boolean | undefined;\n\tprivate _idBase = uuid();\n\tprivate _menuHasVisualFocus = false;\n\tprivate _open: boolean | undefined;\n\tprivate _wasOpen: boolean | undefined;\n\n\tprivate _closeMenu() {\n\t\tthis._open = false;\n\t\tthis.invalidate();\n\t}\n\n\tprivate _getMenuId() {\n\t\treturn `${this._idBase}-menu`;\n\t}\n\n\tprivate _getResultLabel(result: any) {\n\t\tconst { getResultLabel } = this.properties;\n\n\t\treturn getResultLabel ? getResultLabel(result) : `${result}`;\n\t}\n\n\tprivate _getResultSelected(result: any) {\n\t\tconst { getResultSelected, value } = this.properties;\n\n\t\treturn getResultSelected\n\t\t\t? getResultSelected(result)\n\t\t\t: this._getResultLabel(result) === value;\n\t}\n\n\tprivate _getResultValue(result: any) {\n\t\tconst { getResultValue = this.properties.getResultLabel } = this.properties;\n\n\t\treturn getResultValue ? `${getResultValue(result)}` : `${result}`;\n\t}\n\n\tprivate _getResultId(result: any, index: number) {\n\t\treturn `${this._idBase}-result${index}`;\n\t}\n\n\tprivate _onArrowClick(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tconst { disabled, readOnly } = this.properties;\n\n\t\tif (!disabled && !readOnly) {\n\t\t\tthis.focus();\n\t\t\tthis._openMenu();\n\t\t}\n\t}\n\n\tprivate _onClearClick(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tconst { key, onChange } = this.properties;\n\n\t\tthis.focus();\n\t\tthis.invalidate();\n\t\tonChange && onChange('', key);\n\t}\n\n\tprivate _onInput(value: string) {\n\t\tconst { key, disabled, readOnly, onChange } = this.properties;\n\n\t\tonChange && onChange(value, key);\n\t\t!disabled && !readOnly && this._openMenu();\n\t}\n\n\tprivate _onInputBlur(value: string) {\n\t\tconst { key, onBlur } = this.properties;\n\n\t\tif (this._ignoreBlur) {\n\t\t\tthis._ignoreBlur = false;\n\t\t\treturn;\n\t\t}\n\n\t\tonBlur && onBlur(value, key);\n\t\tthis._closeMenu();\n\t}\n\n\tprivate _onInputFocus(value: string) {\n\t\tconst { key, disabled, readOnly, onFocus, openOnFocus } = this.properties;\n\n\t\tonFocus && onFocus(value, key);\n\t\t!disabled && !readOnly && openOnFocus && this._openMenu();\n\t}\n\n\tprivate _onInputKeyDown(key: number, preventDefault: () => void) {\n\t\tconst {\n\t\t\tdisabled,\n\t\t\tisResultDisabled = () => false,\n\t\t\treadOnly,\n\t\t\tresults = []\n\t\t} = this.properties;\n\t\tthis._menuHasVisualFocus = true;\n\n\t\tswitch (key) {\n\t\t\tcase Keys.Up:\n\t\t\t\tpreventDefault();\n\t\t\t\tthis._moveActiveIndex(Operation.decrease);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tpreventDefault();\n\t\t\t\tif (!this._open && !disabled && !readOnly) {\n\t\t\t\t\tthis._openMenu();\n\t\t\t\t} else if (this._open) {\n\t\t\t\t\tthis._moveActiveIndex(Operation.increase);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Escape:\n\t\t\t\tthis._open && this._closeMenu();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Enter:\n\t\t\tcase Keys.Space:\n\t\t\t\tif (this._open && results.length > 0) {\n\t\t\t\t\tif (isResultDisabled(results[this._activeIndex])) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._selectIndex(this._activeIndex);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Home:\n\t\t\t\tthis._activeIndex = 0;\n\t\t\t\tthis.invalidate();\n\t\t\t\tbreak;\n\t\t\tcase Keys.End:\n\t\t\t\tthis._activeIndex = results.length - 1;\n\t\t\t\tthis.invalidate();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate _onMenuChange() {\n\t\tconst { key, onMenuChange } = this.properties;\n\n\t\tif (!onMenuChange) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._open && !this._wasOpen && onMenuChange(true, key);\n\t\t!this._open && this._wasOpen && onMenuChange(false, key);\n\t}\n\n\tprivate _onResultHover(): void {\n\t\tthis._menuHasVisualFocus = false;\n\t\tthis.invalidate();\n\t}\n\n\tprivate _onResultMouseDown(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\t// Maintain underlying input focus on next render\n\t\tthis._ignoreBlur = true;\n\t}\n\n\tprivate _openMenu() {\n\t\tconst { key, onRequestResults } = this.properties;\n\n\t\tthis._activeIndex = 0;\n\t\tthis._open = true;\n\t\tonRequestResults && onRequestResults(key);\n\t\tthis.invalidate();\n\t}\n\n\tprivate _selectIndex(index: number) {\n\t\tconst { key, onChange, onResultSelect, results = [] } = this.properties;\n\n\t\tthis.focus();\n\t\tthis._closeMenu();\n\t\tonResultSelect && onResultSelect(results[index], key);\n\t\tonChange && onChange(this._getResultValue(results[index]), key);\n\t}\n\n\tprivate _moveActiveIndex(operation: Operation) {\n\t\tconst { results = [] } = this.properties;\n\n\t\tif (results.length === 0) {\n\t\t\tthis._activeIndex = 0;\n\t\t\tthis.invalidate();\n\t\t\treturn;\n\t\t}\n\n\t\tconst total = results.length;\n\t\tconst nextIndex = (this._activeIndex + operation + total) % total;\n\n\t\tthis._activeIndex = nextIndex;\n\t\tthis.invalidate();\n\t}\n\n\tprotected getRootClasses(): (string | null)[] {\n\t\tconst { clearable, invalid } = this.properties;\n\t\tconst focus = this.meta(Focus).get('root');\n\n\t\treturn [\n\t\t\tcss.root,\n\t\t\tthis._open ? css.open : null,\n\t\t\tclearable ? css.clearable : null,\n\t\t\tfocus.containsFocus ? css.focused : null,\n\t\t\tinvalid === true ? css.invalid : null,\n\t\t\tinvalid === false ? css.valid : null\n\t\t];\n\t}\n\n\tprotected renderInput(results: any[]): DNode {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tdisabled,\n\t\t\twidgetId = this._idBase,\n\t\t\tinputProperties = {},\n\t\t\tinvalid,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tvalue = '',\n\t\t\ttheme\n\t\t} = this.properties;\n\n\t\treturn w(TextInput, {\n\t\t\t...inputProperties,\n\t\t\tkey: 'textinput',\n\t\t\tclasses,\n\t\t\taria: {\n\t\t\t\tactivedescendant: this._open\n\t\t\t\t\t? this._getResultId(results[this._activeIndex], this._activeIndex)\n\t\t\t\t\t: null,\n\t\t\t\tautocomplete: 'list'\n\t\t\t},\n\t\t\tvalid: typeof invalid === 'boolean' ? !invalid : undefined,\n\t\t\tdisabled,\n\t\t\twidgetId,\n\t\t\tfocus: this.shouldFocus,\n\t\t\tonBlur: this._onInputBlur,\n\t\t\tonFocus: this._onInputFocus,\n\t\t\tonInput: this._onInput,\n\t\t\tonKeyDown: this._onInputKeyDown,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\ttheme,\n\t\t\tvalue\n\t\t});\n\t}\n\n\tprotected renderClearButton(messages: CommonMessages): DNode {\n\t\tconst { disabled, label = '', readOnly, theme, classes } = this.properties;\n\n\t\treturn v(\n\t\t\t'button',\n\t\t\t{\n\t\t\t\tkey: 'clear',\n\t\t\t\t'aria-hidden': 'true',\n\t\t\t\tclasses: this.theme(css.clear),\n\t\t\t\tdisabled: disabled || readOnly,\n\t\t\t\ttabIndex: -1,\n\t\t\t\ttype: 'button',\n\t\t\t\tonclick: this._onClearClick\n\t\t\t},\n\t\t\t[\n\t\t\t\tv('span', { classes: baseCss.visuallyHidden }, [`${messages.clear} ${label}`]),\n\t\t\t\tw(Icon, { type: 'closeIcon', theme, classes })\n\t\t\t]\n\t\t);\n\t}\n\n\tprotected renderMenuButton(messages: CommonMessages): DNode {\n\t\tconst { disabled, label = '', readOnly, theme, classes } = this.properties;\n\n\t\treturn v(\n\t\t\t'button',\n\t\t\t{\n\t\t\t\tkey: 'trigger',\n\t\t\t\t'aria-hidden': 'true',\n\t\t\t\tclasses: this.theme(css.trigger),\n\t\t\t\tdisabled: disabled || readOnly,\n\t\t\t\ttabIndex: -1,\n\t\t\t\ttype: 'button',\n\t\t\t\tonclick: this._onArrowClick\n\t\t\t},\n\t\t\t[\n\t\t\t\tv('span', { classes: baseCss.visuallyHidden }, [`${messages.open} ${label}`]),\n\t\t\t\tw(Icon, { type: 'downIcon', theme, classes })\n\t\t\t]\n\t\t);\n\t}\n\n\tprotected renderMenu(results: any[]): DNode {\n\t\tconst { theme, isResultDisabled, classes } = this.properties;\n\n\t\tif (results.length === 0 || !this._open) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: 'dropdown',\n\t\t\t\tclasses: this.theme(css.dropdown),\n\t\t\t\tonmouseover: this._onResultHover,\n\t\t\t\tonmousedown: this._onResultMouseDown\n\t\t\t},\n\t\t\t[\n\t\t\t\tw(Listbox, {\n\t\t\t\t\tkey: 'listbox',\n\t\t\t\t\tclasses,\n\t\t\t\t\tactiveIndex: this._activeIndex,\n\t\t\t\t\twidgetId: this._getMenuId(),\n\t\t\t\t\tvisualFocus: this._menuHasVisualFocus,\n\t\t\t\t\toptionData: results,\n\t\t\t\t\ttabIndex: -1,\n\t\t\t\t\tgetOptionDisabled: isResultDisabled,\n\t\t\t\t\tgetOptionId: this._getResultId,\n\t\t\t\t\tgetOptionLabel: this._getResultLabel,\n\t\t\t\t\tgetOptionSelected: this._getResultSelected,\n\t\t\t\t\tonActiveIndexChange: (index: number) => {\n\t\t\t\t\t\tthis._activeIndex = index;\n\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t},\n\t\t\t\t\tonOptionSelect: (option: any, index: number) => {\n\t\t\t\t\t\tthis._selectIndex(index);\n\t\t\t\t\t},\n\t\t\t\t\ttheme\n\t\t\t\t})\n\t\t\t]\n\t\t);\n\t}\n\n\trender(): DNode {\n\t\tconst {\n\t\t\tclearable = false,\n\t\t\twidgetId = this._idBase,\n\t\t\tinvalid,\n\t\t\tlabel,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tdisabled,\n\t\t\tlabelHidden,\n\t\t\tlabelAfter,\n\t\t\tresults = [],\n\t\t\ttheme,\n\t\t\tclasses\n\t\t} = this.properties;\n\t\tconst { messages } = this.localizeBundle(commonBundle);\n\t\tconst focus = this.meta(Focus).get('root');\n\n\t\tconst menu = this.renderMenu(results);\n\t\tthis._onMenuChange();\n\t\tthis._wasOpen = this._open;\n\n\t\tconst controls = [\n\t\t\tlabel\n\t\t\t\t? w(\n\t\t\t\t\t\tLabel,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: 'label',\n\t\t\t\t\t\t\ttheme,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\tdisabled,\n\t\t\t\t\t\t\tfocused: focus.containsFocus,\n\t\t\t\t\t\t\tinvalid,\n\t\t\t\t\t\t\treadOnly,\n\t\t\t\t\t\t\trequired,\n\t\t\t\t\t\t\thidden: labelHidden,\n\t\t\t\t\t\t\tforId: widgetId\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[label]\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tv(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\t'aria-expanded': this._open ? 'true' : 'false',\n\t\t\t\t\t'aria-haspopup': 'listbox',\n\t\t\t\t\t'aria-owns': this._open ? this._getMenuId() : null,\n\t\t\t\t\tclasses: this.theme(css.controls),\n\t\t\t\t\trole: 'combobox'\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\tthis.renderInput(results),\n\t\t\t\t\tclearable ? this.renderClearButton(messages) : null,\n\t\t\t\t\tthis.renderMenuButton(messages)\n\t\t\t\t]\n\t\t\t),\n\t\t\tmenu\n\t\t];\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tclasses: this.theme(this.getRootClasses()),\n\t\t\t\tkey: 'root'\n\t\t\t},\n\t\t\tlabelAfter ? controls.reverse() : controls\n\t\t);\n\t}\n}\n\nexport default ComboBox;\n"]}