{"version":3,"file":"/Users/mwistrand/projects/dojo/widgets/src/time-picker/index.ts","sourceRoot":"","sources":["../node_modules/tslint-loader/index.js??ref--4!/Users/mwistrand/projects/dojo/widgets/node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_custom-elements!/Users/mwistrand/projects/dojo/widgets/src/time-picker/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { padStart } from '@dojo/framework/shim/string';\nimport { v, w } from '@dojo/framework/widget-core/d';\nimport { DNode } from '@dojo/framework/widget-core/interfaces';\nimport ThemedMixin, { theme, ThemedProperties } from '@dojo/framework/widget-core/mixins/Themed';\nimport { FocusMixin, FocusProperties } from '@dojo/framework/widget-core/mixins/Focus';\nimport { WidgetBase } from '@dojo/framework/widget-core/WidgetBase';\nimport { diffProperty } from '@dojo/framework/widget-core/decorators/diffProperty';\nimport { auto } from '@dojo/framework/widget-core/diff';\nimport Focus from '@dojo/framework/widget-core/meta/Focus';\nimport ComboBox from '../combobox/index';\nimport { LabeledProperties, InputProperties } from '../common/interfaces';\nimport { formatAriaProperties } from '../common/util';\nimport { TextInputProperties } from '../text-input/index';\nimport Label from '../label/index';\nimport { uuid } from '@dojo/framework/core/util';\nimport * as css from '../theme/time-picker.m.css';\nimport { customElement } from '@dojo/framework/widget-core/decorators/customElement';\n\ninterface FocusInputEvent extends FocusEvent {\n\ttarget: HTMLInputElement;\n}\n\n/**\n * @type TimePickerProperties\n *\n * Properties that can be set on a TimePicker component\n *\n * @property autoBlur           Determines whether the input should blur after value selection\n * @property clearable          Determines whether the custom input should be able to be cleared\n * @property CustomOptionItem   Can be used to render a custom option\n * @property CustomOptionMenu   Can be used to render a custom option menu\n * @property end                The maximum time to display in the menu (defaults to '23:59:59')\n * @property getOptionLabel     Can be used to get the text label of an option based on the underlying option object\n * @property inputProperties    TextInput properties to set on the underlying input\n * @property isOptionDisabled   Used to determine if an item should be disabled\n * @property onBlur             Called when the input is blurred\n * @property onChange           Called when the value changes\n * @property onFocus            Called when the input is focused\n * @property onMenuChange       Called when menu visibility changes\n * @property onRequestOptions   Called when options are shown; should be used to set `options`\n * @property openOnFocus        Determines whether the result list should open when the input is focused\n * @property options            Options for the current input; should be set in response to `onRequestOptions`\n * @property start              The minimum time to display in the menu (defaults to '00:00:00')\n * @property step               The number of seconds between each option in the menu (defaults to 60)\n * @property useNativeElement   Use the native <input type=\"time\"> element if true\n * @property value           The current value\n */\nexport interface TimePickerProperties\n\textends ThemedProperties,\n\t\tFocusProperties,\n\t\tInputProperties,\n\t\tLabeledProperties {\n\tautoBlur?: boolean;\n\tclearable?: boolean;\n\tend?: string;\n\tgetOptionLabel?(option: TimeUnits): string;\n\tinputProperties?: TextInputProperties;\n\tisOptionDisabled?(result: any): boolean;\n\tonBlur?(value: string, key?: string | number): void;\n\tonChange?(value: string, key?: string | number): void;\n\tonFocus?(value: string, key?: string | number): void;\n\tonMenuChange?(open: boolean, key?: string | number): void;\n\tonRequestOptions?(key?: string | number): void;\n\topenOnFocus?: boolean;\n\toptions?: TimeUnits[];\n\tstart?: string;\n\tstep?: number;\n\tuseNativeElement?: boolean;\n\tvalue?: string;\n}\n\n/**\n * An object representing a dateless time (without milliseconds).\n *\n * @property hour    The number of hours.\n * @property minute  An optional number of minutes.\n * @property second  An optional number of seconds.\n */\nexport interface TimeUnits {\n\thour: number;\n\tminute?: number;\n\tsecond?: number;\n}\n\n/**\n * @private\n * Regular epression that matches a standard time string ('HH:mm:ss').\n */\nconst TIME_PATTERN = /^\\d{2}:\\d{2}(:\\d{2})?$/;\n\n/**\n * Generate an array of time unit objects from the specified start date to the specified end date.\n *\n * @param start    The start time. Defaults to midnight.\n * @param end      The end time. Defaults to 23:59:59.\n * @param step     The amount of time in seconds between each step. Defaults to 60.\n * @return         An array of time unit objects.\n */\nexport function getOptions(\n\tstart: string = '00:00:00',\n\tend: string = '23:59:59',\n\tstep = 60\n): TimeUnits[] {\n\tconst endUnits = parseUnits(end);\n\tconst startUnits = parseUnits(start);\n\tconst endTime = getTime(endUnits);\n\tconst date = new Date();\n\tlet time = getTime(startUnits, date);\n\n\tconst i = step * 1000;\n\tconst options: number[] = [];\n\n\twhile (time <= endTime) {\n\t\toptions.push(time);\n\t\ttime += i;\n\t}\n\n\treturn options.map((time: number) => {\n\t\tdate.setTime(time);\n\t\treturn {\n\t\t\thour: date.getHours(),\n\t\t\tminute: date.getMinutes(),\n\t\t\tsecond: date.getSeconds()\n\t\t};\n\t});\n}\n\n/**\n * @private\n * Create a numeric timestamp for the specified hour, minute, and second units.\n *\n * @param units   An object containing the hours, minutes, and seconds for the time.\n * @param date    An optional date object.\n * @return        The timestamp, in milliseconds, according to universal time.\n */\nfunction getTime(units: TimeUnits, date = new Date()) {\n\tconst { hour, minute, second } = units;\n\tdate.setHours(hour);\n\tdate.setMinutes(minute as number);\n\tdate.setSeconds(second as number);\n\tdate.setMilliseconds(0);\n\treturn date.getTime();\n}\n\n/**\n * Convert a standard time string into an object with `hour`, `minute`, and `second` number properties.\n *\n * For example, '12:30' is converted to `{ hour: 12, minute: 30, second: 0 }`, and '19:03:27' is converted\n * to `{ hour: 19, minute: 3, second: 27 }`.\n *\n * @param value   A standard time string or an object with `hour`, `minute`, and `second` properties.\n * @return        An object containing `hour`, `second`, and `number` properties.\n */\nexport function parseUnits(value: string | TimeUnits): TimeUnits {\n\tif (typeof value === 'string') {\n\t\tif (!TIME_PATTERN.test(value)) {\n\t\t\tthrow new Error('Time strings must be in the format HH:mm or HH:mm:ss');\n\t\t}\n\n\t\tconst [hour, minute, second = 0] = value.split(':').map((unit) => parseInt(unit, 10));\n\t\treturn { hour, minute, second } as TimeUnits;\n\t}\n\n\treturn value;\n}\n\n@theme(css)\n@customElement<TimePickerProperties>({\n\ttag: 'dojo-time-picker',\n\tproperties: [\n\t\t'theme',\n\t\t'classes',\n\t\t'extraClasses',\n\t\t'isOptionDisabled',\n\t\t'getOptionLabel',\n\t\t'autoBlur',\n\t\t'clearable',\n\t\t'inputProperties',\n\t\t'openOnFocus',\n\t\t'options',\n\t\t'useNativeElement',\n\t\t'step',\n\t\t'labelAfter',\n\t\t'labelHidden',\n\t\t'required',\n\t\t'invalid',\n\t\t'readOnly',\n\t\t'disabled'\n\t],\n\tattributes: ['widgetId', 'label', 'name', 'value', 'start', 'end'],\n\tevents: ['onBlur', 'onChange', 'onFocus', 'onMenuChange', 'onRequestOptions']\n})\nexport class TimePicker extends ThemedMixin(FocusMixin(WidgetBase))<TimePickerProperties> {\n\tprotected options: TimeUnits[] | null = null;\n\n\tprivate _uuid: string;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._uuid = uuid();\n\t}\n\n\tprivate _formatUnits(units: TimeUnits): string {\n\t\tconst { step = 60 } = this.properties;\n\t\tconst { hour, minute, second } = units;\n\n\t\treturn (step >= 60 ? [hour, minute] : [hour, minute, second])\n\t\t\t.map((unit) => padStart(String(unit), 2, '0'))\n\t\t\t.join(':');\n\t}\n\n\tprivate _getOptionLabel(value: TimeUnits) {\n\t\tconst { getOptionLabel } = this.properties;\n\t\tconst units = parseUnits(value);\n\t\treturn getOptionLabel ? getOptionLabel(units) : this._formatUnits(units);\n\t}\n\n\tprivate _onBlur(value: string) {\n\t\tconst { key, onBlur } = this.properties;\n\t\tonBlur && onBlur(value, key);\n\t}\n\n\tprivate _onChange(value: string) {\n\t\tconst { key, onChange } = this.properties;\n\t\tonChange && onChange(value, key);\n\t}\n\n\tprivate _onFocus(value: string) {\n\t\tconst { key, onFocus } = this.properties;\n\t\tonFocus && onFocus(value, key);\n\t}\n\n\tprivate _onMenuChange(open: boolean) {\n\t\tconst { key, onMenuChange } = this.properties;\n\t\tonMenuChange && onMenuChange(open, key);\n\t}\n\n\tprivate _onNativeBlur(event: FocusInputEvent) {\n\t\tconst { key, onBlur } = this.properties;\n\t\tonBlur && onBlur(event.target.value, key);\n\t}\n\n\tprivate _onNativeChange(event: FocusInputEvent) {\n\t\tconst { key, onChange } = this.properties;\n\t\tonChange && onChange(event.target.value, key);\n\t}\n\n\tprivate _onNativeFocus(event: FocusInputEvent) {\n\t\tconst { key, onFocus } = this.properties;\n\t\tonFocus && onFocus(event.target.value, key);\n\t}\n\n\tprivate _onRequestOptions() {\n\t\tconst { onRequestOptions, key } = this.properties;\n\t\tonRequestOptions && onRequestOptions(key);\n\t}\n\n\tprotected getRootClasses(): (string | null)[] {\n\t\tconst { disabled, invalid, readOnly, required } = this.properties;\n\t\tconst focus = this.meta(Focus).get('root');\n\t\treturn [\n\t\t\tcss.root,\n\t\t\tdisabled ? css.disabled : null,\n\t\t\tfocus.containsFocus ? css.focused : null,\n\t\t\tinvalid ? css.invalid : null,\n\t\t\treadOnly ? css.readonly : null,\n\t\t\trequired ? css.required : null\n\t\t];\n\t}\n\n\tprotected getOptions() {\n\t\tif (this.options) {\n\t\t\treturn this.options;\n\t\t}\n\n\t\tconst { end, start, step } = this.properties;\n\t\tthis.options = getOptions(start, end, step);\n\t\treturn this.options;\n\t}\n\n\t@diffProperty('start', auto)\n\t@diffProperty('end', auto)\n\t@diffProperty('step', auto)\n\tprotected onPropertiesChanged() {\n\t\tthis.options = null;\n\t}\n\n\tprotected renderCustomInput(): DNode {\n\t\tconst {\n\t\t\tclearable,\n\t\t\tdisabled,\n\t\t\textraClasses,\n\t\t\twidgetId = this._uuid,\n\t\t\tinputProperties,\n\t\t\tinvalid,\n\t\t\tisOptionDisabled,\n\t\t\tlabel,\n\t\t\tlabelAfter,\n\t\t\tlabelHidden,\n\t\t\topenOnFocus,\n\t\t\toptions = this.getOptions(),\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tvalue\n\t\t} = this.properties;\n\n\t\treturn w(ComboBox, {\n\t\t\tkey: 'combo',\n\t\t\tclearable,\n\t\t\tdisabled,\n\t\t\textraClasses,\n\t\t\tgetResultLabel: this._getOptionLabel.bind(this),\n\t\t\twidgetId,\n\t\t\tfocus: this.shouldFocus,\n\t\t\tinputProperties,\n\t\t\tinvalid,\n\t\t\tisResultDisabled: isOptionDisabled,\n\t\t\tlabel,\n\t\t\tlabelAfter,\n\t\t\tlabelHidden,\n\t\t\tonBlur: this._onBlur,\n\t\t\tonChange: this._onChange,\n\t\t\tonFocus: this._onFocus,\n\t\t\tonMenuChange: this._onMenuChange,\n\t\t\tonRequestResults: this._onRequestOptions.bind(this),\n\t\t\topenOnFocus,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tresults: options,\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tvalue\n\t\t});\n\t}\n\n\tprotected renderNativeInput(): DNode {\n\t\tconst {\n\t\t\tdisabled,\n\t\t\tend,\n\t\t\twidgetId = this._uuid,\n\t\t\tinputProperties = {},\n\t\t\tinvalid,\n\t\t\tname,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tstart,\n\t\t\tstep,\n\t\t\tvalue,\n\t\t\tlabel,\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tlabelHidden = false,\n\t\t\tlabelAfter = false\n\t\t} = this.properties;\n\t\tconst focus = this.meta(Focus).get('root');\n\n\t\tconst { aria = {} } = inputProperties;\n\n\t\tconst children = [\n\t\t\tlabel\n\t\t\t\t? w(\n\t\t\t\t\t\tLabel,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttheme,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\tdisabled,\n\t\t\t\t\t\t\tfocused: focus.containsFocus,\n\t\t\t\t\t\t\tinvalid,\n\t\t\t\t\t\t\treadOnly,\n\t\t\t\t\t\t\trequired,\n\t\t\t\t\t\t\thidden: labelHidden,\n\t\t\t\t\t\t\tforId: widgetId\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[label]\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tv('input', {\n\t\t\t\tid: widgetId,\n\t\t\t\t...formatAriaProperties(aria),\n\t\t\t\t'aria-invalid': invalid === true ? 'true' : null,\n\t\t\t\t'aria-readonly': readOnly === true ? 'true' : null,\n\t\t\t\tclasses: this.theme(css.input),\n\t\t\t\tdisabled,\n\t\t\t\tfocus: this.shouldFocus,\n\t\t\t\tinvalid,\n\t\t\t\tkey: 'native-input',\n\t\t\t\tmax: end,\n\t\t\t\tmin: start,\n\t\t\t\tname,\n\t\t\t\tonblur: this._onNativeBlur,\n\t\t\t\tonchange: this._onNativeChange,\n\t\t\t\tonfocus: this._onNativeFocus,\n\t\t\t\treadOnly,\n\t\t\t\trequired,\n\t\t\t\tstep,\n\t\t\t\ttype: 'time',\n\t\t\t\tvalue\n\t\t\t})\n\t\t];\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: 'root',\n\t\t\t\tclasses: this.theme(this.getRootClasses())\n\t\t\t},\n\t\t\tlabelAfter ? children.reverse() : children\n\t\t);\n\t}\n\n\trender(): DNode {\n\t\tconst { useNativeElement } = this.properties;\n\n\t\treturn useNativeElement ? this.renderNativeInput() : this.renderCustomInput();\n\t}\n}\n\nexport default TimePicker;\n"]}