{"version":3,"file":"/Users/mwistrand/projects/dojo/widgets/src/calendar/CalendarCell.ts","sourceRoot":"","sources":["../node_modules/tslint-loader/index.js??ref--4!/Users/mwistrand/projects/dojo/widgets/node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_custom-elements!/Users/mwistrand/projects/dojo/widgets/src/calendar/CalendarCell.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,wCAAwC,CAAC;AACpE,OAAO,EAAE,WAAW,EAAoB,KAAK,EAAE,MAAM,2CAA2C,CAAC;AACjG,OAAO,KAAK,MAAM,wCAAwC,CAAC;AAC3D,OAAO,EAAE,CAAC,EAAE,MAAM,+BAA+B,CAAC;AAElD,OAAO,KAAK,GAAG,MAAM,yBAAyB,CAAC;AAgC/C,IAAa,YAAY,GAAzB,kBAA0B,SAAQ,WAAW,CAAC,UAAU,CAAyB;IACxE,QAAQ,CAAC,KAAiB;QACjC,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,MAAM,EAAE,IAAI,EAAE,QAAQ,GAAG,KAAK,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QAC5D,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACpC,CAAC;IAEO,UAAU,CAAC,KAAoB;QACtC,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QACtC,SAAS;YACR,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE;gBAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAES,UAAU,CAAC,IAAY;QAChC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC;IAES,kBAAkB;QAC3B,MAAM,EACL,QAAQ,GAAG,KAAK,EAChB,UAAU,GAAG,KAAK,EAClB,QAAQ,GAAG,KAAK,EAChB,KAAK,GAAG,KAAK,EACb,GAAG,IAAI,CAAC,UAAU,CAAC;QAEpB,MAAM,CAAC;YACN,QAAQ,IAAI,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI;YAChD,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI;YAClC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI;YAClC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI;SAC5B,CAAC;IACH,CAAC;IAES,MAAM;QACf,MAAM,EACL,SAAS,EACT,IAAI,EACJ,SAAS,GAAG,KAAK,EACjB,QAAQ,GAAG,KAAK,EAChB,aAAa,EACb,GAAG,IAAI,CAAC,UAAU,CAAC;QAEpB,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAC7B,aAAa,IAAI,aAAa,EAAE,CAAC;QAClC,CAAC;QAED,MAAM,CAAC,CAAC,CACP,IAAI,EACJ;YACC,GAAG,EAAE,MAAM;YACX,IAAI,EAAE,UAAU;YAChB,eAAe,EAAE,GAAG,QAAQ,EAAE;YAC9B,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;YAC7D,OAAO,EAAE,IAAI,CAAC,QAAQ;YACtB,SAAS,EAAE,IAAI,CAAC,UAAU;SAC1B,EACD,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CACvB,CAAC;IACH,CAAC;CACD,CAAA;AAhEY,YAAY;IADxB,KAAK,CAAC,GAAG,CAAC;GACE,YAAY,CAgExB;SAhEY,YAAY;AAkEzB,eAAe,YAAY,CAAC","sourcesContent":["import { WidgetBase } from '@dojo/framework/widget-core/WidgetBase';\nimport { ThemedMixin, ThemedProperties, theme } from '@dojo/framework/widget-core/mixins/Themed';\nimport Focus from '@dojo/framework/widget-core/meta/Focus';\nimport { v } from '@dojo/framework/widget-core/d';\nimport { DNode } from '@dojo/framework/widget-core/interfaces';\nimport * as css from '../theme/calendar.m.css';\n\n/**\n * @type CalendarCellProperties\n *\n * Properties that can be set on a Calendar Date Cell\n *\n * @property callFocus        Used to immediately call focus on the cell\n * @property date             Integer date value\n * @property disabled         Boolean, whether the date is in the displayed month\n * @property focusable        Boolean, whether the date can receive tab focus\n * @property outOfRange       Boolean, true if the date is outside the min/max\n * @property selected         True if the date is currently selected\n * @property today            True if the date the same as the current day\n * @property onClick          Callback function for the click event\n * @property onFocusCalled    Callback function when the cell receives focus\n * @property onKeyDown        Callback function for the key down event\n */\nexport interface CalendarCellProperties extends ThemedProperties {\n\tcallFocus?: boolean;\n\tdate: number;\n\tdisabled?: boolean;\n\tfocusable?: boolean;\n\toutOfRange?: boolean;\n\tselected?: boolean;\n\ttoday?: boolean;\n\tonClick?(date: number, disabled: boolean): void;\n\tonFocusCalled?(): void;\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n}\n\n@theme(css)\nexport class CalendarCell extends ThemedMixin(WidgetBase)<CalendarCellProperties> {\n\tprivate _onClick(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tconst { date, disabled = false, onClick } = this.properties;\n\t\tonClick && onClick(date, disabled);\n\t}\n\n\tprivate _onKeyDown(event: KeyboardEvent) {\n\t\tevent.stopPropagation();\n\t\tconst { onKeyDown } = this.properties;\n\t\tonKeyDown &&\n\t\t\tonKeyDown(event.which, () => {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t}\n\n\tprotected formatDate(date: number): DNode {\n\t\treturn v('span', [`${date}`]);\n\t}\n\n\tprotected getModifierClasses(): (string | null)[] {\n\t\tconst {\n\t\t\tdisabled = false,\n\t\t\toutOfRange = false,\n\t\t\tselected = false,\n\t\t\ttoday = false\n\t\t} = this.properties;\n\n\t\treturn [\n\t\t\tdisabled || outOfRange ? css.inactiveDate : null,\n\t\t\toutOfRange ? css.outOfRange : null,\n\t\t\tselected ? css.selectedDate : null,\n\t\t\ttoday ? css.todayDate : null\n\t\t];\n\t}\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\tcallFocus,\n\t\t\tdate,\n\t\t\tfocusable = false,\n\t\t\tselected = false,\n\t\t\tonFocusCalled\n\t\t} = this.properties;\n\n\t\tif (callFocus) {\n\t\t\tthis.meta(Focus).set('root');\n\t\t\tonFocusCalled && onFocusCalled();\n\t\t}\n\n\t\treturn v(\n\t\t\t'td',\n\t\t\t{\n\t\t\t\tkey: 'root',\n\t\t\t\trole: 'gridcell',\n\t\t\t\t'aria-selected': `${selected}`,\n\t\t\t\ttabIndex: focusable ? 0 : -1,\n\t\t\t\tclasses: this.theme([css.date, ...this.getModifierClasses()]),\n\t\t\t\tonclick: this._onClick,\n\t\t\t\tonkeydown: this._onKeyDown\n\t\t\t},\n\t\t\t[this.formatDate(date)]\n\t\t);\n\t}\n}\n\nexport default CalendarCell;\n"]}